#   .ifjcode21
#   JUMP *BYPASS



LABEL readn0
  PUSHFRAME

  DEFVAR LF@result
  READ LF@result float

  JUMPIFEQ *readn_retnil LF@result float@-0x1p+0

  JUMP *readn_end

# Return nil
LABEL *readn_retnil
  MOVE LF@result nil@nil
  JUMP *readn_end

# Function end
LABEL *readn_end
  POPFRAME
  DEFVAR LF@!ret_0
  MOVE LF@!ret_0 TF@result
  RETURN



# LABEL *BYPASS
#   CREATEFRAME
#   PUSHFRAME
#   CREATEFRAME
#   CALL readn0
#   WRITE LF@!ret_0
# 
#   # check if ret is nil
#   JUMPIFEQ isnil LF@!ret_0 nil@nil
# LABEL back
# 
#   # write a newline for debugging
#   WRITE string@\010
#   POPFRAME
#   JUMP END
# 
# LABEL isnil
#   WRITE string@is\032nil\010
#   JUMP back
# 
# LABEL END
